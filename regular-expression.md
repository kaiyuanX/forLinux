- [正则表达式](#正则表达式)
  - [基础正则表达式](#基础正则表达式)
      - [位置匹配](#位置匹配)
      - [连续次数匹配](#连续次数匹配)
      - [单个字符匹配](#单个字符匹配)
      - [分组](#分组)
      - [后向引用](#后向引用)
  - [扩展正则表达式](#扩展正则表达式)
      - [不同基础正则表达式](#不同基础正则表达式)
      - [或](#或)

[正则表达式参考文章](https://www.zsythink.net/archives/tag/%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f/)

# 正则表达式

- 基础正则表达式
- 扩展正则表达式

## 基础正则表达式

#### 位置匹配

`^` 表示锚定行首

`$` 表示锚定行尾

`\<` 表示锚定词首

`\>` 表示锚定词尾

`\b` 既能锚定词首，也能锚定词尾，可以代替 `\<` 和 `\>`

`\B` 是用来匹配非单词边界的

#### 连续次数匹配

`a\{2\}` 表示 a 连续出现两次

`a\{x,y\}` 表示 a 连续出现 [x,y] 次（不填：x=0 y=无限）

`*` 等价于 `\{,\}`

`.` 表示匹配任意单个字符（换行符除外）
- `.*` 表示任意长度的任意字符
- `ee.` 表示 `ee` 后面跟随任意一个单个字符，都会被匹配到
- `ee..` 表示 `ee` 后面跟随任意两个字符，都会被匹配到

`\?` 等价于 `\{0,1\}`

`\+` 等价于 `\{1,\}`

#### 单个字符匹配

`[  ]` 表示指定**范围内**的一个任意字符

- `[a-z]`
- `[A-Z]`
- `[a-zA-Z]`
- `[0-9]`
- `[[:alpha:]]` 表示一个任意字母
- `[[:lower:]]` 表示一个任意小写字母
- `[[:upper:]]` 表示一个任意大写字母
- `[[:digit:]]` 表示一个 0 到 9 之间的任意数字
- `[[:alnum:]]` 表示一个任意数字或字母
- `[[:space:]]` 表示一个任意空白字符，包括空格、tab键等
- `[[:punct:]]` 表示一个任意标点符号

`[^  ]` 表示指定**范围外**的一个任意字符

简写

- `\d` 表示单个0到9的数字
- `\D` 表示单个非数字字符
- `\t` 表示单个横向制表符（相当于一个tab键）
- `\s` 表示单个空白字符，包括”空格”，”tab制表符”等。
- `\S` 表示单个非空白字符

`grep` 默认不能够识别这种简短格式，可以使用 `-P` 选项，表示 `grep` 使用兼容 perl 的正则表达式引擎

#### 分组

`\(  \)` 表示将其中的内容看做一个分组，看做一个整体
- `\(hello\)\{2\}` 表示 hellohello

#### 后向引用

`\1` 表示引用整个表达式中第 1 个分组中正则匹配到的结果
- 例子 `\(H.\{4\}\) \1` 其中 `\1` 等价于 `H.\{4\}`


## 扩展正则表达式

grep 命令默认只支持基本正则表达式

如果想要让 grep 命令能够支持扩展的正则表达式，则需要使用 `-E` 选项

#### 不同基础正则表达式

- `{n}` 表示连续次数匹配以及 `? +` 都不写 `\`
- `()` 表示分组


#### 或

`(com|net)` 将 com 或 net 分组